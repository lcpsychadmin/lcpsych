{% extends "base.html" %}
{% block title %}Schedule an Appointment | L+C Psych{% endblock %}
{% block content %}
<main id="content" class="bg-slate-50">
  <section class="relative overflow-hidden z-10 bg-brand-deep text-white pb-14 pt-16">
    <div class="relative z-10 max-w-5xl mx-auto px-4 text-center space-y-4">
      <h1 class="text-4xl font-semibold m-0">Schedule an Appointment</h1>
      <p class="text-white/85 text-lg max-w-3xl mx-auto">Existing clients can go directly to the client portal. New clients can browse available times here and submit a request without leaving our site.</p>
    </div>
  </section>

  <section class="relative z-20 py-10 md:py-14 bg-brand-accent">
    <div class="max-w-5xl mx-auto px-4 space-y-6">
      <div class="grid gap-4 md:grid-cols-2">
        <div class="bg-white rounded-2xl shadow-sm ring-1 ring-slate-200 p-6 flex flex-col gap-3">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-xl bg-emerald-100 text-emerald-800 font-bold flex items-center justify-center">EC</div>
            <div>
              <p class="text-sm uppercase tracking-wide text-emerald-700 font-semibold m-0">Existing clients</p>
              <p class="text-sm text-slate-600 m-0">Log in to the client portal to schedule, message, or check paperwork.</p>
            </div>
          </div>
          <a class="inline-flex justify-center items-center gap-2 rounded-xl bg-[#3C9C64] text-white font-semibold py-3 px-4 transition-colors hover:bg-[#2f7c50] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#92DCE5]" href="{{ portal_base }}/" target="_blank" rel="noopener">Go to client portal</a>
        </div>

        <div class="bg-white rounded-2xl shadow-sm ring-1 ring-slate-200 p-6 flex flex-col gap-3">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-xl bg-sky-100 text-sky-800 font-bold flex items-center justify-center">NC</div>
            <div>
              <p class="text-sm uppercase tracking-wide text-sky-700 font-semibold m-0">New clients</p>
              <p class="text-sm text-slate-600 m-0">See open time slots and request an appointment. We’ll confirm in the portal.</p>
            </div>
          </div>
          <div class="rounded-xl border border-slate-200 overflow-hidden bg-slate-50">
            <div class="bg-slate-100/70 border-b border-slate-200 px-3 py-2 text-xs text-slate-600 flex items-center justify-between">
              <span>Available times (via client portal)</span>
              <a class="text-[#116466] hover:underline" href="{{ new_patient_availability_url }}" target="_blank" rel="noopener">Open in new tab</a>
            </div>
            <div class="aspect-[4/3] bg-white">
              <iframe src="{{ new_patient_availability_url }}" title="New client availability" class="w-full h-full" loading="lazy" referrerpolicy="no-referrer"></iframe>
            </div>
          </div>
          <p class="text-xs text-slate-500 m-0">If the embedded view doesn’t load, use the link above to view and request directly.</p>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock %}
